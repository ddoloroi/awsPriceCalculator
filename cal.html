<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>

    <link rel="stylesheet" href="cal.css"/>
    <link href='http://fonts.useso.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Roboto+Slab:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Roboto+Mono' rel='stylesheet' type='text/css'>
</head>
<body>
<div class="container show-dep" id="form-container">
    <h1>
        AWS Transcoding Calculator
    </h1>

    <div class="section parameter-section">
        <h2>Parameters</h2>

        <div class="subsection">
            <label class="tooltip" data-tip="People who own Waylens cameras"><strong>Users</strong></label>
            <input class="model" type="number" id="p_user" value="2000" min="1"/><br/>

            <label>Average monthly <strong>moments</strong> uploaded per user</label>
            <input class="model" type="number" id="p_new_moment" value="2" min="1"/><br/>

            <label>Average minute of <strong>video duration</strong> per moment</label><input class="model"
                                                                                              type="number"
                                                                                              id="p_avg_length"
                                                                                              value="5" min="1"/><br/>
        </div>
        <div class="subsection">
            <label class="tooltip"
                   data-tip="People who watch videos on Waylens Cloud"><strong>Audiences</strong></label><input
                class="model" type="number" id="p_audience" value="10000" min="1"/><br/>

            <label>Average monthly <strong>sessions</strong> per audience</label><input class="model" type="number"
                                                                                        id="p_session"
                                                                                        value="5" min="1"/><br/>

            <label>Average minutes of <strong>video transfer</strong> per session</label><input class="model"
                                                                                                type="number"
                                                                                                id="p_session_length"
                                                                                                value="2" min="1"/><br/>
        </div>
        <div class="subsection">
            <label class="tooltip" data-tip="30Mbps for 1080p 60fps video "><strong>Bitrate</strong>
                (Mbps)</label><input class="model" type="number" id="p_mbps" value="30" min="1"/><br/>
        </div>
    </div>

    <div class="section data-section">
        <h2>Data Size</h2>
        <label class="tooltip" data-tip="Users · Moments · Video duration · Bitrate">Data
            <strong>uploaded</strong></label><span class="model unit-gb" id="v_up"></span><br/>
        <label class="tooltip" data-tip="∑ Uploaded">Data <strong>stored EBS</strong></label><span class="model unit-gb"
                                                                                                   id="v_store_ebs"></span><br/>
        <label class="tooltip"
               data-tip="Stored EBS * 2, data size will double due to transcoding to different resolution">Data <strong>stored
            S3</strong></label><span class="model unit-gb"
                                     id="v_store_s3"></span><br/>
        <label class="tooltip" data-tip="Audiences · Sessions · Video transfer · Bitrate">Data
            <strong>downloaded</strong></label><span class="model unit-gb" id="v_down"></span><br/>
    </div>


    <div class="section cost-section">
        <h2>Monthly Cost</h2>

        <div class="subsection hide" id="unit-cost-subsection">
            <label class="tooltip tooltip-link" data-tip='Use "Infrequent Access Storage" Plan, see the link in right.'><strong>Unit
                S3</strong>
                cost per GB stored<a href="https://aws.amazon.com/s3/pricing/" target="_blank">[Pricing]</a>
            </label><span class="model unit-dollar" id="v_s3_unit"></span><br/>
            <label class="tooltip tooltip-link" data-tip="0.30 · Bitrate, click the link in right"><strong>Unit
                Transcoder</strong>
                cost per GB uploaded<a href="https://aws.amazon.com/elastictranscoder/pricing/" target="_blank">[Pricing]</a></label><span
                class="model unit-dollar" id="v_transcoder_unit"></span><br/>
            <label class="tooltip tooltip-link"
                   data-tip="Transfer out to Origin + Transfer out to Internet , see the link in right"><strong>Unit
                CloudFront</strong>
                cost per GB downloaded<a href="https://aws.amazon.com/cloudfront/pricing/" target="_blank">[Pricing]</a></label><span
                class="model unit-dollar" id="v_cdn_unit"></span><br/>
            <label class="tooltip tooltip-link"
                   data-tip='Use "EBS General Purpose (SSD)" , see the link in right'><strong>Unit EBS</strong>
                cost per GB stored<a href="https://aws.amazon.com/ebs/pricing/"
                                     target="_blank">[Pricing]</a></label><span class="model unit-dollar"
                                                                                id="v_ebs_unit"></span><br/>

        </div>

        <div class="subsection">
            <label class="tooltip" data-tip="Stored · Unit S3"><strong>S3</strong> cost</label><span
                class="model unit-dollar" id="v_s3"></span><br/>
            <label class="tooltip" data-tip="Uploaded · Unit Transcoder"><strong>Transcoder</strong> cost</label><span
                class="model unit-dollar" id="v_transcoder"></span><br/>
            <label class="tooltip" data-tip="Depend on both Uploaded and Downloaded"><strong>CloudFront</strong>
                cost</label><span class="model unit-dollar" id="v_cdn"></span><br/>
            <label class="tooltip"
                   data-tip='Use "c4.large" instance, assume an instance can render 6 hours video per day'><strong>EC2
                Overlay</strong>
                cost</label><span class="model unit-dollar" id="v_overlay"></span><br/>
            <label class="tooltip"
                   data-tip='Use "t2.medium" instance, assume an instance can service 1000 users or 10000 audiences'><strong>EC2
                Web Service</strong>
                cost</label><span class="model unit-dollar" id="v_web"></span><br/>
            <label class="tooltip" data-tip='Stored EBS · Unit EBS'><strong>EBS</strong>
                cost</label><span class="model unit-dollar" id="v_ebs"></span><br/>

        </div>


        <div class="subsection">
            <label>Total cost </label><span class="model unit-dollar" id="v_total"></span><br/>
            <label>Total cost per user</label><span class="model unit-dollar" id="v_total_per_user"></span><br/>
        </div>
    </div>


</div>
<div class="menu">
    <a href="#" id="menu-on">Menu</a>
    <div class="hide" id="menu-content">
        <div class="checkbox">Highlight Dependency<input type="checkbox" id="c_dep" checked></div>
        <div class="checkbox">Show Delta<input type="checkbox" id="c_delta" checked></div>
        <div class="checkbox">Show Unit Cost<input type="checkbox" id="c_unit"></div>
        <input type="button" id="b_save" value="Save the parameters below as baseline"/><br>
        <input type="button" id="b_restore" value="Restore the parameters below"/>
    </div>
</div>
<script src="cal-compiled.js"></script>
<script>
    var awsModel = new AwsModel(),
            awsView = new AwsView(awsModel);
    awsView.update();
    awsView.initDelta();
    awsView.compare()

</script>
</body>
</html>
